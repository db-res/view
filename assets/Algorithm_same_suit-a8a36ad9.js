import{_ as k,o as c,c as a,a as d,F as b,r as f,b as _,n as m,t as h}from"./index.js";const x={data(){return{deck:[],selectedCards:[],bestCombination:[],loading:!1}},created(){const e=this.generateDeck();this.deck=e},methods:{getBestCombination(){this.loading=!0;const e=this.findBestCombinations(this.selectedCards);if(e){console.log(e);for(const t of e)console.log(`${t.point}${t.suit}`);this.bestCombination=e}},getPoint(e){this.deck.map(t=>{t.point===e.point&&t.suit===e.suit&&(t.checked=!0,this.selectedCards.includes(t)&&(t.checked=!1))}),this.selectedCards=this.deck.filter(t=>t.checked)},strPoint(e){let t=e;switch(e){case 1:t="A";break;case 11:t="J";break;case 12:t="Q";break;case 13:t="K";break;default:t=e;break}return t},generateDeck(){const e=["\u2660","\u2665","\u2666","\u2663"],t=[1,2,3,4,5,6,7,8,9,10,11,12,13],i=[];for(const r of e)for(const o of t)i.push({suit:r,point:o});return i},getCombinations(e,t){const i=[],r=[];let o=0;for(;;)if(r.length>=t&&(i.push(r.slice()),o++),o>=e.length){if(r.length===0)break;o=r.pop()+1}else r.push(o),o++;const n=[];for(const s of i)n.push(s.map(p=>e[p]));return n},calculatePoints(e){let t=0;for(const i of e)switch(i.point){case"A":t+=1;break;case"K":case"Q":case"J":t+=10;break;default:t+=parseInt(i.point)}return t},findBestCombinations(e){const i=this.getCombinations(e,3).filter(n=>{const s=n.sort((l,u)=>l.point-u.point),p=s.every((l,u)=>u===0||l.point===s[u-1].point+1),g=s.every(l=>l.suit===s[0].suit);return p&&g});let r=null,o=0;for(const n of i){const s=this.calculatePoints(n);s>o&&(r=n,o=s)}return this.loading=!1,r}}},C={class:"box"},y={style:{width:"60%",height:"80%"}},v={style:{display:"flex","flex-wrap":"wrap"}},w=["onClick"],B={style:{"margin-top":"20px"}},P={key:0},A={style:{display:"flex","flex-wrap":"wrap","margin-top":"20px"}};function F(e,t,i,r,o,n){return c(),a("div",C,[d("div",y,[d("div",v,[(c(!0),a(b,null,f(o.deck,s=>(c(),a("div",{onClick:p=>n.getPoint(s),style:m([{"margin-right":"10px","margin-bottom":"10px","flex-shrink":"0",border:"1px solid #666","background-color":"#eee",cursor:"pointer",padding:"2px 6px"},{background:s.checked?"#ffb5b5":" #eee"}]),key:s.point},h(s.suit)+" "+h(n.strPoint(s.point)),13,w))),128))]),d("div",B,[d("button",{class:"btn",onClick:t[0]||(t[0]=(...s)=>n.getBestCombination&&n.getBestCombination(...s))},"\u8F93\u51FA\u6700\u4F73\u7EC4\u5408"),o.loading?(c(),a("span",P,"\u7B5B\u9009\u4E2D...")):_("",!0)]),d("div",A,[(c(!0),a(b,null,f(o.bestCombination,s=>(c(),a("div",{style:{"margin-right":"10px","margin-bottom":"10px","flex-shrink":"0",border:"1px solid #666","background-color":"#eee",padding:"2px 6px"},key:s.point},h(s.suit)+" "+h(n.strPoint(s.point)),1))),128))])])])}const S=k(x,[["render",F]]);export{S as default};
