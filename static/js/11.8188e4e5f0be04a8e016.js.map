{"version":3,"sources":["webpack:///static/js/11.8188e4e5f0be04a8e016.js","webpack:///./src/components/socketio.vue?1b54","webpack:///./src/components/socketio.vue?27ea","webpack:///./src/components/socketio.vue","webpack:///src/components/socketio.vue","webpack:///./src/components/socketio.vue?8b49"],"names":["webpackJsonp","+HQR","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","CciX","content","locals","add","default","D7nU","__webpack_exports__","injectStyle","context","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_socketio_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_adc45048_hasScoped_true_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_socketio_vue__","__WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__","__vue_styles__","Component","X2pv","data","files","message","arr","name","computed","user","this","$store","state","istoday","watch","created","mounted","undefined","_id","$socket","emit","id","updated","sockets","connect","disconnect","reconnect","login","number","getName","send_msg","length","shift","timer","setTimeout","div","document","getElementById","scrollTop","scrollHeight","clearTimeout","today","commit","methods","clickButton","val","$message","duration","iconClass","todayComing","_this","$api","signIn","res","code","mfKZ","d","render","staticRenderFns","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","directives","rawName","expression","on","click","staticStyle","margin","domProps","keyup","$event","type","indexOf","_k","keyCode","key","input","target","composing","_l","item","index","_s","color","date","margin-left"],"mappings":"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","file":"static/js/11.8188e4e5f0be04a8e016.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ \"+HQR\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#prict_box[data-v-adc45048]{color:#f0f8ff;text-align:center}.input_[data-v-adc45048]{border:none;border-radius:3px;line-height:20px;padding-left:4px}.socketBox[data-v-adc45048]{height:600px;width:350px}.contentBox[data-v-adc45048]{overflow-y:auto;height:507px;margin-top:10px}.contentBox[data-v-adc45048]::-webkit-scrollbar{display:none;width:6px;background:#c81414}.contentBox[data-v-adc45048]::-webkit-scrollbar-thumb{background:#fa5100}.back_[data-v-adc45048]{position:absolute;width:100%;height:100%;top:0;left:0;background-image:-webkit-linear-gradient(#000,#ad7d7d00);background-image:linear-gradient(#000,#ad7d7d00);opacity:.3;z-index:-1}\", \"\", {\"version\":3,\"sources\":[\"D:/code/three/src/components/socketio.vue\"],\"names\":[],\"mappings\":\"AACA,4BACE,cAAiB,AACjB,iBAAmB,CACpB,AACD,yBACE,YAAa,AACb,kBAAmB,AACnB,iBAAkB,AAClB,gBAAkB,CACnB,AACD,4BACE,aAAc,AACd,WAAa,CAEd,AACD,6BACE,gBAAiB,AACjB,aAAc,AACd,eAAiB,CAClB,AACD,gDACE,aAAc,AACd,UAAW,AACX,kBAAoB,CACrB,AACD,sDACE,kBAAoB,CACrB,AACD,wBACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,MAAO,AACP,OAAQ,AACR,yDAA8D,AAC9D,iDAAsD,AACtD,WAAa,AACb,UAAY,CACb\",\"file\":\"socketio.vue\",\"sourcesContent\":[\"\\n#prict_box[data-v-adc45048] {\\n  color: aliceblue;\\n  text-align: center;\\n}\\n.input_[data-v-adc45048] {\\n  border: none;\\n  border-radius: 3px;\\n  line-height: 20px;\\n  padding-left: 4px;\\n}\\n.socketBox[data-v-adc45048] {\\n  height: 600px;\\n  width: 350px;\\n  /* border: 2px solid; */\\n}\\n.contentBox[data-v-adc45048] {\\n  overflow-y: auto;\\n  height: 507px;\\n  margin-top: 10px;\\n}\\n.contentBox[data-v-adc45048]::-webkit-scrollbar {\\n  display: none;\\n  width: 6px;\\n  background: #c81414;\\n}\\n.contentBox[data-v-adc45048]::-webkit-scrollbar-thumb {\\n  background: #fa5100;\\n}\\n.back_[data-v-adc45048] {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  background-image: -webkit-linear-gradient(#000000, #ad7d7d00);\\n  background-image: linear-gradient(#000000, #ad7d7d00);\\n  opacity: 0.3;\\n  z-index: -1;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"CciX\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"+HQR\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(\"rjj0\").default\nvar update = add(\"d7473608\", content, true, {});\n\n/***/ }),\n\n/***/ \"D7nU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_socketio_vue__ = __webpack_require__(\"X2pv\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_adc45048_hasScoped_true_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_socketio_vue__ = __webpack_require__(\"mfKZ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__ = __webpack_require__(\"XyMi\");\nfunction injectStyle (context) {\n  __webpack_require__(\"CciX\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-adc45048\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(__WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__[\"a\" /* default */])(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_socketio_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_adc45048_hasScoped_true_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_socketio_vue__[\"a\" /* render */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_adc45048_hasScoped_true_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_socketio_vue__[\"b\" /* staticRenderFns */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"X2pv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import Vue from 'vue';\n// import VueSocketIO from 'vue-socket.io'\n// import http from '../common/https.js'\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      files: {},\n      message: 0,\n      value: '',\n      arr: [],\n      name: '未登录'\n    };\n  },\n\n  computed: {\n    user: function user() {\n      return this.$store.state.user;\n    },\n    istoday: function istoday() {\n      return this.$store.state.istoday;\n    }\n  },\n  watch: {},\n  created: function created() {\n    // Vue.use(new VueSocketIO({\n    //     debug: false,\n    //     connection: http.urlroot+\":9000\",\n    //     // connection: 'https://localhost:9000',\n    // }))\n  },\n  mounted: function mounted() {\n    // debugger\n    if (this.user._id != undefined && this.user._id != null && this.user._id != '') {\n      // debugger\n      this.$socket.emit('login', { id: this.user._id, name: this.user.name });\n    }\n  },\n  updated: function updated() {},\n\n  sockets: {\n    //连接\n    connect: function connect(data) {\n      // console.log('connect:'+data)\n      // this.$socket.emit('event_1', 'connect');  \n    },\n\n    //断连\n    disconnect: function disconnect(data) {\n      console.log('disconnect:' + data);\n    },\n\n    //重连\n    reconnect: function reconnect(data) {\n      console.log('reconnect:' + data);\n    },\n\n    //监听message事件，方法是后台定义和提供的\n    login: function login(data) {\n      console.log(data);\n      this.message = data.number;\n    },\n    getName: function getName(data) {\n      //   this.name=data.name\n    },\n    send_msg: function send_msg(data) {\n      // data=Array.from(data)\n      this.arr.push(data);\n      console.log(this.arr);\n      if (this.arr.length > 100) this.arr.shift();\n      var timer = setTimeout(function () {\n        var div = document.getElementById('sendOut');\n        div.scrollTop = div.scrollHeight;\n        clearTimeout(timer);\n      }, 50);\n    },\n    today: function today(data) {\n      if (data) {\n        console.log('taday:' + data);\n        this.$store.commit('updateIstoday', data);\n      }\n    }\n  },\n  methods: {\n    //添加按钮事件向服务端发送数据\n    clickButton: function clickButton(val) {\n      if (!this.user._id) {\n        this.$message({ message: '请先登录', duration: 1500, iconClass: 'none' });\n        return false;\n      }\n      if (this.value.length == 0) {\n        this.$message({ message: '内容不能为空', duration: 1500, iconClass: 'none' });\n        return false;\n      }\n      var data = {\n        value: this.value,\n        name: this.user.name,\n        id: this.user._id\n      };\n      this.$socket.emit('send_msg', data);\n      this.value = '';\n    },\n    todayComing: function todayComing() {\n      var _this = this;\n\n      var data = this.user;\n      this.$api.signIn(data, function (res) {\n        console.log(res);\n        if (res.code == 1000) {\n          _this.$store.commit('updateIstoday', false);\n          _this.$store.commit('updateUser', res.data);\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"mfKZ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return staticRenderFns; });\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"prict_box\"}},[_c('div',{staticClass:\"dslb socketBox rel\"},[_c('div',{staticClass:\"back_\"}),_vm._v(\" \"),_c('div',{staticClass:\"padd-10\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.istoday),expression:\"istoday\"}],staticClass:\"Mybtn\",on:{\"click\":_vm.todayComing}},[_vm._v(\"签到\")])]),_vm._v(\" \"),_c('div',{staticClass:\"f13\",staticStyle:{\"margin\":\"5px\"}},[_vm._v(\"又没人聊天这socket有啥用呢~\")]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"input_\",domProps:{\"value\":(_vm.value)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.clickButton($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"Mybtn\",on:{\"click\":_vm.clickButton}},[_vm._v(\"发送\")])]),_vm._v(\" \"),_c('div',{staticClass:\"contentBox txalS\",attrs:{\"id\":\"sendOut\"}},_vm._l((_vm.arr),function(item,index){return _c('div',{key:index,staticStyle:{\"margin\":\"10px\"}},[_c('div',{staticClass:\" bold f14\"},[_vm._v(_vm._s(item.data.name)),_c('span',{staticClass:\"dslb f4 mg-l-10\",staticStyle:{\"color\":\"#b9a0a0\"}},[_vm._v(_vm._s(item.date))])]),_vm._v(\" \"),_c('div',{staticClass:\"black\",staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(_vm._s(item.data.value))])])}),0)])])}\nvar staticRenderFns = []\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/11.8188e4e5f0be04a8e016.js","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#prict_box[data-v-adc45048]{color:#f0f8ff;text-align:center}.input_[data-v-adc45048]{border:none;border-radius:3px;line-height:20px;padding-left:4px}.socketBox[data-v-adc45048]{height:600px;width:350px}.contentBox[data-v-adc45048]{overflow-y:auto;height:507px;margin-top:10px}.contentBox[data-v-adc45048]::-webkit-scrollbar{display:none;width:6px;background:#c81414}.contentBox[data-v-adc45048]::-webkit-scrollbar-thumb{background:#fa5100}.back_[data-v-adc45048]{position:absolute;width:100%;height:100%;top:0;left:0;background-image:-webkit-linear-gradient(#000,#ad7d7d00);background-image:linear-gradient(#000,#ad7d7d00);opacity:.3;z-index:-1}\", \"\", {\"version\":3,\"sources\":[\"D:/code/three/src/components/socketio.vue\"],\"names\":[],\"mappings\":\"AACA,4BACE,cAAiB,AACjB,iBAAmB,CACpB,AACD,yBACE,YAAa,AACb,kBAAmB,AACnB,iBAAkB,AAClB,gBAAkB,CACnB,AACD,4BACE,aAAc,AACd,WAAa,CAEd,AACD,6BACE,gBAAiB,AACjB,aAAc,AACd,eAAiB,CAClB,AACD,gDACE,aAAc,AACd,UAAW,AACX,kBAAoB,CACrB,AACD,sDACE,kBAAoB,CACrB,AACD,wBACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,MAAO,AACP,OAAQ,AACR,yDAA8D,AAC9D,iDAAsD,AACtD,WAAa,AACb,UAAY,CACb\",\"file\":\"socketio.vue\",\"sourcesContent\":[\"\\n#prict_box[data-v-adc45048] {\\n  color: aliceblue;\\n  text-align: center;\\n}\\n.input_[data-v-adc45048] {\\n  border: none;\\n  border-radius: 3px;\\n  line-height: 20px;\\n  padding-left: 4px;\\n}\\n.socketBox[data-v-adc45048] {\\n  height: 600px;\\n  width: 350px;\\n  /* border: 2px solid; */\\n}\\n.contentBox[data-v-adc45048] {\\n  overflow-y: auto;\\n  height: 507px;\\n  margin-top: 10px;\\n}\\n.contentBox[data-v-adc45048]::-webkit-scrollbar {\\n  display: none;\\n  width: 6px;\\n  background: #c81414;\\n}\\n.contentBox[data-v-adc45048]::-webkit-scrollbar-thumb {\\n  background: #fa5100;\\n}\\n.back_[data-v-adc45048] {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  background-image: -webkit-linear-gradient(#000000, #ad7d7d00);\\n  background-image: linear-gradient(#000000, #ad7d7d00);\\n  opacity: 0.3;\\n  z-index: -1;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"optionsId\":\"0\",\"vue\":true,\"id\":\"data-v-adc45048\",\"scoped\":true,\"sourceMap\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/socketio.vue\n// module id = +HQR\n// module chunks = 11","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-adc45048\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./socketio.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"d7473608\", content, true, {});\n\n\n// WEBPACK FOOTER //\n// \"}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"optionsId\":\"0\",\"vue\":true,\"id\":\"data-v-adc45048\",\"scoped\":true,\"sourceMap\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/socketio.vue","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-adc45048\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./socketio.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./socketio.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./socketio.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-adc45048\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./socketio.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-adc45048\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/socketio.vue\n// module id = D7nU\n// module chunks = 11","\r\n\r\n<template>\r\n    <div id=\"prict_box\">\r\n      <div class=\"dslb socketBox rel\">\r\n        <div class=\"back_\"></div>\r\n        <div class=\"padd-10\">\r\n          <button  @click='todayComing' class=\"Mybtn\" v-show='istoday'>签到</button> \r\n        </div>\r\n        <div class=\"f13\" style='margin:5px;'>又没人聊天这socket有啥用呢~</div>\r\n        <!-- <div style='margin:10px;'>在线人数：{{message}}</div> -->\r\n        <!-- <div style='margin:10px;'>{{this.user.name}}</div> -->\r\n        <div>\r\n          <input v-model='value' class=\"input_\" @keyup.enter='clickButton'/>\r\n          <button  @click='clickButton' class=\"Mybtn\">发送</button> \r\n        </div>\r\n        <div class=\"contentBox txalS\" style=\"\" id='sendOut'>\r\n          <div v-for='item,index in arr' :key='index'  style='margin:10px;'>\r\n            <div style='' class=\" bold f14\">{{item.data.name}}<span class=\"dslb f4 mg-l-10\" style=\"color: #b9a0a0;\">{{item.date}}</span></div>\r\n            <div style='margin-left:20px;' class=\"black\">{{item.data.value}}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n    // import Vue from 'vue';\r\n    // import VueSocketIO from 'vue-socket.io'\r\n    // import http from '../common/https.js'\r\n    export default {\r\n      data() {\r\n        return {\r\n          files:{},\r\n          message:0,\r\n          value:'',\r\n          arr:[],\r\n          name:'未登录',\r\n        };\r\n      },\r\n      computed: {\r\n        user(){\r\n          return this.$store.state.user\r\n        },\r\n        istoday(){\r\n          return this.$store.state.istoday\r\n        }\r\n      },\r\n      watch: {\r\n\r\n      },\r\n      created(){\r\n        // Vue.use(new VueSocketIO({\r\n        //     debug: false,\r\n        //     connection: http.urlroot+\":9000\",\r\n        //     // connection: 'https://localhost:9000',\r\n        // }))\r\n      },\r\n      mounted() {\r\n        // debugger\r\n        if(this.user._id!=undefined && this.user._id!=null && this.user._id!=''){\r\n            // debugger\r\n          this.$socket.emit('login',{id:this.user._id,name:this.user.name}); \r\n        }\r\n      },\r\n      updated(){\r\n        \r\n      },\r\n      sockets: {\r\n        //连接\r\n        connect(data) {\r\n          // console.log('connect:'+data)\r\n          // this.$socket.emit('event_1', 'connect');  \r\n        },\r\n        //断连\r\n        disconnect(data){\r\n          console.log('disconnect:'+data)\r\n        },\r\n        //重连\r\n        reconnect(data){\r\n          console.log('reconnect:'+data)\r\n        },\r\n        //监听message事件，方法是后台定义和提供的\r\n        login(data) {                                 \r\n          console.log(data);\r\n          this.message=data.number\r\n        },\r\n        getName(data){\r\n        //   this.name=data.name\r\n        },\r\n        send_msg(data){\r\n          // data=Array.from(data)\r\n          this.arr.push(data) \r\n          console.log(this.arr)\r\n          if(this.arr.length>100) this.arr.shift();\r\n          let timer=setTimeout(()=>{\r\n            let div = document.getElementById('sendOut');\r\n            div.scrollTop = div.scrollHeight;\r\n            clearTimeout(timer)\r\n          },50)\r\n        },\r\n        today(data){\r\n          if(data){\r\n            console.log('taday:'+data)\r\n            this.$store.commit('updateIstoday',data)\r\n          }\r\n        }\r\n      },\r\n      methods: {\r\n        //添加按钮事件向服务端发送数据\r\n        clickButton: function(val){   \r\n            if(!this.user._id){\r\n                this.$message({ message: '请先登录', duration: 1500,iconClass:'none' })\r\n                return false\r\n            }\r\n          if(this.value.length==0){\r\n            this.$message({ message: '内容不能为空', duration: 1500,iconClass:'none' })\r\n            return false\r\n          }\r\n          let data={\r\n            value:this.value,\r\n            name:this.user.name,\r\n            id:this.user._id\r\n          }\r\n          this.$socket.emit('send_msg', data);\r\n          this.value=''\r\n        },\r\n        todayComing(){\r\n          let data=this.user\r\n          this.$api.signIn(data,res=>{\r\n            console.log(res)\r\n            if(res.code==1000){\r\n              this.$store.commit('updateIstoday',false)\r\n              this.$store.commit('updateUser',res.data)\r\n            }\r\n          })\r\n          \r\n        }\r\n      },\r\n    }\r\n  </script>\r\n  \r\n  \r\n  <style lang=\"less\" scoped>\r\n    #prict_box{\r\n      color: aliceblue;\r\n      text-align: center;\r\n    }\r\n\r\n    .input_{\r\n        border: none;\r\n        border-radius: 3px;\r\n        line-height: 20px;\r\n        padding-left: 4px;\r\n    }\r\n    \r\n    .socketBox{\r\n      height: 600px;\r\n      width: 350px;\r\n      \r\n      /* border: 2px solid; */\r\n    }\r\n    .contentBox{\r\n      overflow-y: auto;\r\n      height: 507px;\r\n      margin-top: 10px;\r\n    }\r\n    .contentBox::-webkit-scrollbar{\r\n        display: none;\r\n        width: 6px;\r\n        background: #c81414;\r\n    }\r\n    .contentBox::-webkit-scrollbar-thumb{\r\n      background: #fa5100;\r\n    }\r\n    .back_{\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      top: 0;\r\n      left: 0;\r\n      background-image: linear-gradient( #000000,#ad7d7d00,);\r\n      opacity: .3;\r\n      z-index: -1;\r\n    }\r\n  </style>\r\n  \r\n  \n\n\n// WEBPACK FOOTER //\n// src/components/socketio.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"prict_box\"}},[_c('div',{staticClass:\"dslb socketBox rel\"},[_c('div',{staticClass:\"back_\"}),_vm._v(\" \"),_c('div',{staticClass:\"padd-10\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.istoday),expression:\"istoday\"}],staticClass:\"Mybtn\",on:{\"click\":_vm.todayComing}},[_vm._v(\"签到\")])]),_vm._v(\" \"),_c('div',{staticClass:\"f13\",staticStyle:{\"margin\":\"5px\"}},[_vm._v(\"又没人聊天这socket有啥用呢~\")]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"input_\",domProps:{\"value\":(_vm.value)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.clickButton($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"Mybtn\",on:{\"click\":_vm.clickButton}},[_vm._v(\"发送\")])]),_vm._v(\" \"),_c('div',{staticClass:\"contentBox txalS\",attrs:{\"id\":\"sendOut\"}},_vm._l((_vm.arr),function(item,index){return _c('div',{key:index,staticStyle:{\"margin\":\"10px\"}},[_c('div',{staticClass:\" bold f14\"},[_vm._v(_vm._s(item.data.name)),_c('span',{staticClass:\"dslb f4 mg-l-10\",staticStyle:{\"color\":\"#b9a0a0\"}},[_vm._v(_vm._s(item.date))])]),_vm._v(\" \"),_c('div',{staticClass:\"black\",staticStyle:{\"margin-left\":\"20px\"}},[_vm._v(_vm._s(item.data.value))])])}),0)])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-adc45048\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/socketio.vue\n// module id = mfKZ\n// module chunks = 11"],"sourceRoot":""}